<!-- chat/templates/chat/index.html -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Search a play</title>
</head>
<body>

    Are you ready to play {{ user.username }}?
    <button id="play-submit" type="button" onclick="play()" autofocus>Play</button>


    <script>
        function play() {
            const socket = new WebSocket(`ws://${window.location.host}/ws/matcher/`);

            socket.onmessage = function(e) {
                console.log('We had received a message');

                const data = JSON.parse(e.data);
                console.log(`Received message: ${data.message}`);
            };

            socket.onclose = function(e) {
                console.error('Chat socket closed unexpectedly');
            };
        }
    </script>
</body>
</html>